---
layout: post
author: LPF
title: Linux命令之split
date: 2017-05-20 21:14:22
updated: 2017-05-20 22:23:40
tags:
- Linux Command
categories:
- Study
- Computer
- OS
- Linux
- Command
---
> `split`用于将大文件分割为小文件。当您想向某人发送一个大文件，但是电子邮件限制附件大小时，则可以先对其`split`。

# 用法

为了将大文件划分成几个较小的文件，可以使用`split`程序，该程序的语法如下：

```sh
$ split [-d] [-a num] [-l lines] [file [prefix]]
```

其中，

- *num*是创建文件名时用作文件名后缀的字符或数字数量
- *lines*时每个新文件所包含行的最大数量
- *file*是输入文件的名称
- *prefix*是创建文件时使用的前缀

默认情况下，`split`创建1000行长的文件。例如，假设您有一个文件**data**，这个文件有57984行，您希望将其分解成较小的文件。您使用了命令：

```sh
$ split data
```

这将创建58个新文件：57个包含有1000行数据的文件，以及最后一个包含剩余984行数据的文件。

----------


# 指定行数

如果希望改变这些文件的大小，可以使用`-l（lines)`选项。例如，将**data**文件(有57984)分隔成包含有5000行数据的文件，可以使用：

```sh
$ split -l 5000 data
```
该命令将创建12个文件：11个包含有5000行数据的文件(总共55000行)，和最后一个包含有2984行(余数)数据的文件。

----------


# 生成的文件名

默认情况下，`spilt`使用以字母**x**开头的名称，后面跟两个字符的后缀。后缀是**aa** **ab** ... **ba** **bb** ... **zz**等。例如，在上一个例子，`split`创建了12个文件，这些文件名(默认)为：

**xaa** **xab** ... **xal**

如果不喜欢这些文件名，则有两种方法改变他们。

----------

## 指定数字

使用`-d(digit)`选项，那么`split`就在文件名后面使用两个数字后缀(从**00**开始)，而不是两个字母后缀。
例如，在上述的例子中，使用如下命令：

```sh
$ split -d -l 5000 data
```

12个新文件就被分别命名为：

**x00** **x01** ... **x11**

----------

## 指定前缀

如果不希望文件名以**x**开头，那么可以指定自己的名称用作所生成文件名的前缀，例如：

```sh
$ split -d -l 5000 data maple
```

12个新文件就被分别命名为：

**maple00** **maple01** ... **maple11**

----------


## 增加后缀数目

当对`split`命令使用`-d`选项时，可以创建100(10x10)个文件，使用的后缀为**00**至**99**。如果没有`-d`选项，则可以创建多达676(26x26)个文件，使用的后缀为**aa**至**zz**。如果需要更多的文件，可以使用`-a`选项，后面给出希望在后缀中使用的数字或者字符的数量。例如：

```sh
$ split -d -l 5000 -a 3 data
```
新的文件名将使用3位数字后缀：

**x000** **x001** ... **x011**

同样，也可以在没有`-d`选项的情况下使用`-a`选项：

```sh
$ split -l 5000 -a 3 data
```

在这种情况下，新的文件名将使用3个字母后缀：

**xaaa** **xaab** ... **xaal**

# 选项总结

|选项|含义|
|---|
|-a N|生成长度为N的后缀|
|-b SIZE|以SIZE个字节为大小分割文件|
|-C SIZE|每个输出文件最多记录SIZE个字节的记录，当一行超过时则整行分割到另一个文件|
|-d|使用数字为后缀|
|-e|与-n一起使用时，不生成空文件|
|-l|指定每个文件的行数|
|-n CHUNKS|根据样式生成输出,见[CHUNKS](#CHUNKSID)|
|-t SEP|根据SEP作为分隔符分割文件|
|--verbose|在生成的文件后打印诊断信息|

## CHUNKS {#CHUNKSID}

**CHUNKS**可以是：

|内容|含义|
|---|
|N|根据输入文件的大小平均分割成N个文件|
|K/N|在使用分割成N个文件的方式下，仅输出第K个文件|
|l/N|平均分割成N个文件，但前提是不对行进行分割|
|l/K/N|在不对行分割而分割成N个文件的方式下，仅输出第K个文件|
|r/N|与l的方式相似但使用轮转分配|
|r/K/N|同上描述，使用轮转分配|

# Reference

[1] Haeley Hahn. Unix & Linux 大学教程[M]. 张杰良, 译. 北京:清华大学出版社, 2010.1:345-347.