title: 重定向
date: 2017-01-05 16:58:35
updated: 2017-01-18 15:51:21
tags:
- Linux Shell
categories:
- Study
- Computer
- OS
- Linux
- API
- Shell
- Special Symbol
---
## 1 重定向

**bash shell**提供了一些不同的操作符来将某个命令的输出重定向到另一个位置(如文件)上。
重定向可以通过将某个文件重定向到某个命令上来用在输入上，也可以用在输出上。

## 2 输出重定向

重定向最基本的类型是将命令的输出发到一个文件中。
**bash shell**使用大于号**>**来完成这项功能。

```bash
command > outputFile
```
如将**date**命令输出重定向到**test**文件中：
![](../post_img/587f1ee1ab6441242300182b)

使用大于号**>**进行重定向将会取代覆盖文件的内容(*若指定输出的文件存在*)，若想要将命令的输出追加到已有文件上，可以使用双大于号**>>**来追加数据：

```bash
command >> outputFile
```

## 3 输入重定向

输入重定向将文件的内容重定向到命令，而非将命令输出重定向到文件。
输入重定向符号是小于号**<**。

```bash
command < inputFile
```

**一个简易区分输入输出重定向符号的方法是，记住命令在左侧，而重定向符号指向数据流动的方向，如输出重定向是数据从命令流向文件，输入重定向则反之。**

现以**wc**命令作为输入重定向的例子：
![](../post_img/587f1ee1ab6441242300182c)

**wc**命令提供了对数据中文本的计数，默认情况下会输出3个值：

- 文本的行数
- 文本的词数
- 文本的字节数

### 3.1 内联输入重定向

使用命令行的输出而不是指定文件作为输入重定向的数据，更多内容看执行数学运算。

- 内联输入重定向符号是双小于号**<<**
- 除了这个符号，还必须指定一个文本标记来划分要输入数据的开始和结尾
- 可以用任何字符串的值来作为文本标记，但在数据的开始和结尾必须一致

- 格式

    ```bash
    command << marker
    data
    marker
    ```

在命令行上使用内联输入重定向时，**shell**会用**PS2**环境变量中定义的**次提示符**(一般是**>**)来提示输入数据，如下：
![](../post_img/587f1ee1ab6441242300182d)
**次提示符**会一致提示输入更多数据，直到遇到作为文本标记的字符串值，在上面的例子中的文本标记字符串是**EOF**，接下来**wc**命令会对内联输入重定向提供的数据执行计数。
