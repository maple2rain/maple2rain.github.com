---
layout: post
author: LPF
title: 编译程序的功能
date: 2017-03-17 17:18:04
updated: 2017-03-17 17:34:21
tags:
- Compile
categories:
- Study
- Computer
- PL
---
# 1 编译程序

编译程序是一个翻译器。它读入一种语言格式的指令(通常是文本形式的编程语言)，并将他们翻译成可在计算机上运行的指令集合(通常是二进制硬件指令的集合)。

# 2 编译程序构造

大体上讲，编译程序可以分为两部分：前端和后端。

- 前端读出程序的源代码，将找到的内容以数的形式转换到内存驻留表(memory-resident table)
- 后端负责在前端构建树之后读出树中保存的信息，并将他们转换成目标机器上的汇编语言

# 3 翻译大致步骤

- 词法分析是编译程序前端的最开始部分。他从输入中读出字符，确定哪些是在一起的，形成符号、数字和标点符号
- 语法分析处理会读入来自词法浏览器的符号流，以及后面跟着的一个规则集合，确定他们之间的关系。语法分析器的输出结果是树结构，会被传递给编译程序的后端
- 语法分析树结构会被翻译成伪汇编语言(pseudo-assembly language)，叫做寄存器传送语言(Register Transer Language, RTL)
- 编译程序的后端由分析`RTL`代码开始，然后执行一些优化操作。代码中冗余和未被使用的部分会被去掉。树中有些部分会被移动到其他位置以防止语句被不必要地多次执行。总的来说，有十个以上的优化操作，而且优化操作会多次浏览代码
- `RTL`被翻译成目标机器上的汇编语言
- 激活汇编器去将汇编语言翻译成目标文件。该文件不是可执行格式——它包括可执行的目标代码，但并不是最终运行的形式。另外，它更可能包括未解析的到其他模块例程和数据的引用
- 连接程序将来自汇编器的目标文件(其中有些可能保存在包含目标文件的库中)组合成可执行程序