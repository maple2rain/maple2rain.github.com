title: Linux命令之head与tail
date: 2017-05-20 22:25:41
updated: 2017-05-22 19:19:12
tags:
- Linux Command
categories:
- Study
- Computer
- OS
- Linux
- Command
---
> `head`与`tail`用于快速选取部分数据。其中，`head`从数据的开头选择数据行，`tail`从数据的末尾选择数据行。

# 选取数据行

很多时候都需要使用`head`和`tail`显示文件的开头或末尾。当将其作为过滤器使用时，语法比较简单：

```sh
$ head [-n lines] file
$ tail [-n lines] file
```

其中，*lines*是希望选取的数据行的数量。

> 提示
正式地讲，现代版本的`head`和`tail`都需要`-n`选项，但大多数都支持直接使用`-`接数字的方式，如`head -10`选取前10行，因此您通常可以省略`-n`。

----------


# 显示至末尾

对于`tail`，可以加数字前加一个**+**字符，那么`tail`将从这个行号开始，显示直到文件的末尾。
例如，为了从文件的第5行开始显示直至末尾，可以使用：

```sh
$ tail -n +5 file
```

在这个例子中，不要省略`-n`，以确保`tail`不将数字解释成文件名。

----------

# 观察不断增长的文件

`tail`命令有一个特殊的选项，允许逐行观看一个文件的增长过程。当必须等待数据写入文件时，这个选项就比较方便。例如，您作为一名系统管理员，此时可能盯着日志，查看那些不时写入日志文件的重要信息。

为了以这种方式运行`tail`，可以使用`-f`选项。`-f`(follow)选项告诉`tail`当达到文件的末尾时不要停止。相反，`tail`要一直等下去，并且随着文件的增长，显示跟多的输出，直到接收到终止信号`^C`。运行方式如下图所示：

![](../post_img/5922c933ab64410d7e00050e)

----------


# Reference

[1] Haeley Hahn. Unix & Linux 大学教程[M]. 张杰良, 译. 北京:清华大学出版社, 2010.1:487-488.